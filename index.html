<!doctypehtml><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>enfarm Deployed Devices Web Map</title><link href=https://i.ibb.co/tQDxF41/enfarm-favicon.png rel=icon type=image/png><link href=./leaflet.css rel=stylesheet><link href=./style.css rel=stylesheet><link href=./userlocation.css rel=stylesheet><link href=./search.css rel=stylesheet><link href=./rainviewer.css rel=stylesheet><script src=https://unpkg.com/leaflet/dist/leaflet.js></script><script src=https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js></script><link href=https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css rel=stylesheet><link href=https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Be+Vietnam:wght@400;500;600;700&display=swap"rel=stylesheet><link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js></script><script src=https://syonfox.github.io/leaflet-globe-minimap/dist/Control.GlobeMiniMap.min.js></script><link href=https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css rel=stylesheet><script src=https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js></script><script src=https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js></script><script src=https://cdn.jsdelivr.net/npm/chart.js></script><script src=https://kit.fontawesome.com/0eb73cfc5c.js crossorigin=anonymous></script><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css rel=stylesheet><style>.mapbox3Dterrain-button{position:absolute;top:250px;right:22px;width:40px;height:40px;border-radius:50%;border:none;background-color:#fff;color:#363636;font-size:20px;cursor:pointer;display:flex;justify-content:center;align-items:center;z-index:999;box-shadow:0 2px 4px rgba(0,0,0,.1)}.mapbox3Dterrain-button:hover{background-color:#c9c9c9}.mapbox3Dterrain-button span{line-height:1}.custom-marker{position:relative}.marker2D-label{position:absolute;top:-30px;left:20px;background-color:#fff;border:none;padding:3px 6px;border-radius:10px;font-size:12px;font-weight:400;white-space:nowrap;box-shadow:0 2px 4px rgba(0,0,0,.1)}.marker-icon{width:30px;height:30px}</style><div id=map></div><div class=menu-bar><div class=left-section><a href=https://enfarm.com/ target=_blank><img alt="enFarm Logo"src=https://enfarm.com/fd57352e4cea98b4c1fb.jpg class=company-logo></a><div class=project-title><span>Deployed Devices Web Map</span></div></div><div class=middle-section></div><div class=right-section><div class=search-bar><input id=searchInput placeholder="Search customers..."> <button id=searchButton style=color:#919191><span class=material-symbols-outlined>search</span></button></div></div></div><button class=info-button onclick=toggleInfo()><span class=material-icons-outlined>info</span></button><div class=info-box><div class=info-content><div class=info-image></div><p>About<div class=info-logo><img alt="enFarm Logo"src=https://enfarm.com/fd57352e4cea98b4c1fb.jpg style=width:80px;height:auto></div><p>Map application to track and visualize deployed enfarm devices</p><button class=dismiss-button onclick=toggleInfo()>Dismiss</button></div></div><button class=userlocation-button onclick=locateUser()><span class=material-icons-outlined>my_location</span></button> <button class=mapbox3Dterrain-button onclick=call3Dmap()><span class=material-icons-outlined>landscape</span></button> <button class=stats-button onclick=toggleSlideMenuStats()><span class=material-icons-outlined>donut_large</span></button><div class=slideMenuStats id=slideMenuStats><div class=slideMenuStats-content><span class="material-icons-outlined slideMenuStats-close"onclick=toggleSlideMenuStats()>close</span><h2 class=dashboard-title>Dashboard</h2><div class=device-count id=totalDevicesCount></div><div class=section-title>farms</div><br><div class=divider></div><br><div style=display:flex;align-items:center><img alt="Farm Icon"src=https://i.ibb.co/0QhPSvr/icons8-land-plot-64.png style=width:60px;height:60px;margin-right:8px;margin-top:-30px;color:#545454><div class=totalfarmarea-sum id=totalFarmAreaSum style=padding-bottom:5px></div></div><div class=section-title>total hectares</div><br><div class=divider></div><br><div class=farm-grid><div class=farm-pair><div class="farm-icon coffeefarms-icon"></div><div class=coffeefarms-count id=totalcoffeefarmsCount></div><div class=section-title>Coffee cultivation</div></div><div class=farm-pair><div class="farm-icon durianfarms-icon"></div><div class=durianfarms-count id=totaldurianfarmsCount></div><div class=section-title>Durian cultivation</div></div><div class=farm-pair><div class="farm-icon pepperfarms-icon"></div><div class=pepperfarms-count id=totalpepperfarmsCount></div><div class=section-title>Pepper cultivation</div></div><div class=farm-pair><div class="farm-icon teafarms-icon"></div><div class=teafarms-count id=totalteafarmsCount></div><div class=section-title>Tea cultivation</div></div></div><div class=divider></div><canvas id=treeTypeChart height=300 width=200></canvas></div></div><div class=popup-historicalsoildata id=popup-historicalsoildata style=display:none><div class=header><h4 class=title><span class=material-symbols-outlined style=margin-top:3px>history</span>  Historical Soil Data</h4><button class=close-btn>×</button></div><div class=divider></div><div class=headerNPK><h5 class=title><span class=material-symbols-outlined style=margin-top:3px>bubble_chart</span>  Latest NPK</h5></div><br><canvas id=npkChart></canvas><div class=headerMoist><h5 class=title><span class=material-symbols-outlined style=margin-top:3px>humidity_mid</span>  Latest Moisture</h5></div><br><canvas id=moistChart></canvas><div class=headerpH><h5 class=title><span class=material-symbols-outlined style=margin-top:3px>water_ph</span>  Latest pH</h5></div><br><canvas id=phChart></canvas><br><div class=headerTemp><h5 class=title><span class=material-symbols-outlined style=margin-top:3px>device_thermostat</span>  Latest Temp</h5></div><br><canvas id=tempChart></canvas><br></div><script src=map.js></script><script src=popup.js></script><script src=linecharthistoricaldata.js></script><script src=search.js></script><script src=infobox.js></script><script src=userlocation.js></script><script src=rainviewer.js></script><script src=mapbox3Dterrain.js></script><script src=globeminimap.js></script><script src=sealevelmap.js></script><script src=treetypecount.js></script><script src=sumfarmarea.js></script><script>// Toggle slide menu stats
        function toggleSlideMenuStats() {
            const slideMenuStats = document.getElementById('slideMenuStats');
            slideMenuStats.classList.toggle('active');
        }

        // Rain viewer Panel
        var rainviewer = L.control.rainviewer({
            position: 'bottomleft',
            nextButtonText: '›',
            playStopButtonText: 'Start/Stop',
            prevButtonText: '‹',
            positionSliderLabelText: "🕐 Adjust time:",
            opacitySliderLabelText: "🌧️ Adjust layer opacity:",
            animationInterval: 500,
            opacity: 0.5
        });
        rainviewer.addTo(map);

        //Call Mapbox 3D map
        function call3Dmap() {
            window.location.href = 'mapbox3D.html';
        }


        //Sea Level Rise//</script>
