function searchFeatures(query){const clearButton=document.querySelector('.clear-button');if(query.trim()!==''){clearButton.style.display='block';}else{clearButton.style.display='none';}
const filteredMarkers=markers.filter(marker=>{const farmName=marker.farmName.toLowerCase();const regionName=marker.regionName.toLowerCase();return farmName.includes(query.toLowerCase())||regionName.includes(query.toLowerCase());});markers.forEach(marker=>marker.marker.remove());filteredMarkers.forEach(marker=>marker.marker.addTo(map));if(filteredMarkers.length>0){map.flyTo({center:filteredMarkers[0].lngLat});}}
function clearSearch(){const searchInput=document.getElementById('searchInput');const clearButton=document.querySelector('.clear-button');searchInput.value='';clearButton.style.display='none';markers.forEach(marker=>marker.marker.addTo(map));}