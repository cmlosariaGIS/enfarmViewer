var map=L.map('map',{zoomControl:false}).setView([11.759852,107.418673],8);const satellite=L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',{attribution:'Imagery &copy; <a href="https://www.esri.com/">Esri</a>',maxZoom:28,});const esriOcean=L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}',{attribution:'Tiles &copy; Esri &mdash; Source: Esri, DeLorme, GEBCO, NOAA NGDC, and other contributors',maxZoom:28,});const cartoVoyager=L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png',{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',maxZoom:28,});const basemaps={"Satellite Imagery":satellite,"Street":cartoVoyager,"Ocean":esriOcean};esriOcean.addTo(map);const customControl=L.control({position:'bottomleft'});customControl.onAdd=function(map){const container=L.DomUtil.create('div','basemap-control');const label=L.DomUtil.create('div','basemap-label',container);label.textContent='Basemap';container.onclick=function(){if(map.hasLayer(satellite)){updateBasemap('ocean');}else{updateBasemap('satellite');}};return container;};customControl.addTo(map);function updateBaseLayer(){const zoomLevel=map.getZoom();map.eachLayer(function(layer){if(layer instanceof L.TileLayer&&layer!==satellite){map.removeLayer(layer);}});if(zoomLevel>10){cartoVoyager.addTo(map);}else{esriOcean.addTo(map);}}
map.on('zoomend',function(){if(!map.hasLayer(satellite)){updateBaseLayer();}});var customIcon=L.icon({iconUrl:'https://i.ibb.co/bWhk7NN/gps-shadow.png',});L.control.scale({metric:true,imperial:true,position:'bottomleft'}).addTo(map);function returnToDefaultExtent(){map.setView([11.759852,107.418673],8);}
window.updateMainMapBasemap=function(newBasemap){map.eachLayer(function(layer){if(layer instanceof L.TileLayer){map.removeLayer(layer);}});switch(newBasemap){case'satellite':satellite.addTo(map);break;case'street':cartoVoyager.addTo(map);break;case'ocean':esriOcean.addTo(map);break;}
const label=document.querySelector('.basemap-control .basemap-label');label.textContent='Basemap: '+newBasemap.charAt(0).toUpperCase()+newBasemap.slice(1);};document.getElementById('homeButton').addEventListener('click',returnToDefaultExtent);L.control.scale({metric:true,imperial:true,position:'bottomleft'}).addTo(map);function returnToDefaultExtent(){map.setView([11.759852,107.418673],8);}